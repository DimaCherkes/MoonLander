<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Moon Lander — Menu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Styles for the menu -->
    <link rel="stylesheet" href="css/menu.css">
    <link rel="icon" href="assets/icon.png">
    <!-- Global styles (background, fonts, star animations, etc.) -->
    <link rel="stylesheet" href="css/global.css">
    <link rel="manifest" href="manifest.json"> <!-- Подключение манифеста -->
</head>
<body>
<!-- Main wrapper taking the entire screen (see global.css) -->
<div class="wrapper">
    <!-- Popup menu container -->
    <div id="menuContainer" class="menu-popup">
        <h1 class="menu-title" id="menu-title">Moon Lander</h1>
        <!-- Main menu (buttons) -->
        <div id="menuView" class="menu-view">
            <button class="menu-button" id="playBtn">Continue game</button>
            <button class="menu-button" id="rulesBtn">Rules</button>
            <button class="menu-button" id="startNewGameBtn">New Game</button>
        </div>
        <!-- Rules window (hidden by default) -->
        <div id="rulesView" class="menu-view">
            <h2 class="rules-header">Game Rules</h2>
            <div class="rules-text">
                <p>
                    Welcome to <strong class="rule-subtitle">Moon Lander</strong>! Your goal is to maneuver the rocket across multiple
                    challenges without crashing. You can control the rocket in two different ways:
                </p>
                <p>
                    <strong class="rule-subtitle">· Keyboard (Desktop):</strong> Use arrow keys <kbd>↑</kbd><kbd>←</kbd><kbd>→</kbd>
                    or <kbd>W</kbd><kbd>A</kbd><kbd>D</kbd> for vertical/horizontal movement.
                </p>
                <p>
                    <strong class="rule-subtitle">· Gyroscope (Mobile/Tablet):</strong> Tilt your device to steer the rocket.
                    Hold your finger on the screen to activate the main thruster.
                </p>
                <hr class="rule-divider">
                <p>
                    <strong class="rule-subtitle">Objective:</strong> Safely land on the designated landing zone
                    (marked in green) while staying within the allowed speed limit.
                    If you land too hard, the rocket will crash!
                </p>
                <hr class="rule-divider">
                <p>
                    <strong class="rule-subtitle">Fuel Management:</strong> Watch the fuel bar on the right side of the screen.
                    Every time you use thrusters, your fuel decreases. If you run out of fuel, you
                    won't be able to control the rocket.
                </p>
                <hr class="rule-divider">
                <p>
                    <strong class="rule-subtitle">Collision & Restart:</strong> Collisions with terrain or screen edges can
                    destroy the rocket. If you crash, you can try again or return to the main menu.
                </p>
                <hr class="rule-divider">
                <p>
                    <strong class="rule-subtitle">Multiple Levels:</strong> The game supports multiple levels. Each level has a different landscape
                    or difficulty. Once a level is successfully completed, the <strong>"Next Level"</strong> button becomes available,
                    allowing you to proceed to the next challenge.
                </p>
                <hr class="rule-divider">
                <p>
                    <strong class="rule-subtitle">Pause & Resume:</strong> Use the in-game <em>Pause</em> button to pause
                    at any time. You can resume later without losing progress.
                </p>
                <hr class="rule-divider">
                <p>
                    <strong class="rule-subtitle">PWA Support:</strong> On supported devices, install the game as a
                    Progressive Web App (PWA) to play offline. Your progress (completed tasks) is
                    saved so you can continue later.
                </p>
                <hr class="rule-divider">
                <p>
                    <strong class="rule-subtitle">Hints & Solutions:</strong> Each task may include a hint button or
                    even a solution if needed. However, using them might reduce your final score!
                </p>
                <p>
                    Good luck, and enjoy the lunar adventure!
                </p>
            </div>

            <button class="menu-button" id="backBtn">Back</button>
        </div>

    </div>
</div>

<!-- JS logic: toggling between menu and rules -->
<script src="js/menu.js"></script>
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('sw.js')
                .then(registration => console.log('Service Worker зарегистрирован:', registration))
                .catch(error => console.error('Ошибка при регистрации Service Worker:', error));
        });
    }
</script>

</body>
</html>
